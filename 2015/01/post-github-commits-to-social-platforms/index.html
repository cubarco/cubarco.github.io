<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.83.1"><title>在社交平台上发布匹配一定规则的 Github commit message - /home/cubl</title><meta property="og:title" content="在社交平台上发布匹配一定规则的 Github commit message - /home/cubl"><link href=https://cubl.in/favicon.ico rel=icon type=image/x-icon><meta name=description content="Blog, Python, Github"><link rel=stylesheet href=/css/main.min.39d87073ffff84c35a9b5d21e8b94ef0643a51af7a909c6f3d506433db4442a1.css media=all></head><body><div class=wrapper><header class=header><nav class=nav><a href=/ class=nav-logo><img src=/images/logo-min.png width=50 height=50 alt=Logo></a><ul class=nav-links><li><a href=/>Index</a></li><li><a href=/tags/>Tags</a></li><li><a href=/about/>About</a></li><li><a href=https://github.com/cubarco/cubarco.github.io>GitHub</a></li></ul></nav></header><main class=content role=main><article class=article><h1 class=article-title>在社交平台上发布匹配一定规则的 Github commit message</h1><span class=article-date>2015-01-15</span>
<a class=article-tag href=/tags/blog>Blog</a>
<a class=article-tag href=/tags/python>Python</a>
<a class=article-tag href=/tags/github>Github</a><div class=article-content><p>之前看到了 @fqj1994 juju 的这篇 blog: <a href=https://blog.fqj.me/posts/2013/08/google-app-script-share-blog-updates-with-social-network>用 Google App Script 實現博客更新時自動在社交網絡上發狀態分享</a>, 也感觉自己的 blog 根本没人访问，需要一个类似的东西。因为我的 blog 是用的 jekyll, 挂在 <a href=https://github.com/cubarco/cubarco.github.io>Github</a> 上的，Github 又提供了一个叫 Webhook 的东西，就准备自己实现一种更加优雅的方式。</p><p>项目放在 <a href=https://github.com/cubarco/post-github-commits>Github</a> 上，遵循 <a href=http://www.gnu.org/licenses/gpl-2.0.html>GPLv2</a> 协议。整个流程很简单，就是接受 Webhook 发来的 json, 然后从中提取 commits message, 用一定的正则表达式取出标题，之后再发往各个社交平台。</p><p>昨天实现了 twitter 的部分(twitter 可以拿到不会过期的 access token)，看了下 OAuth 感觉要维护那些 token 的状态好麻烦，懒得弄&mldr; 我正在用的主要就是 twitter, Google+, 和 Facebook. Google+ 据说没给发 post 的 api, 所以作罢。接下来尽可能支持 Facebook.</p><blockquote><p>如果腳本正常的話，理論上這則文章會很快被發佈到我常用的社交網絡。</p></blockquote><p>嗯，就是这样。</p><h3 id=update-2015-01-15>Update 2015-01-15:</h3><p>这个 blog 发出去之后发现 log 报错了(UnicodeEncodeError)，但是没时间修了(出去玩了)。晚上回来处理完各种事情之后才开始修。发现是 <code>urllib.urlencode()</code> 不支持 unicode, fix 已经推到 Github 上了&mldr; 感觉 python 还是学的不好啊。其实我一开始学 python 就是随手写个后台，没准备深入。现在又发觉 python 挺好用的，但是不知道怎么深入，有心无力的感觉哎。</p></div></article><script src=https://utteranc.es/client.js repo=cubarco/cubarco.github.io issue-term=pathname label="Comments 💬" theme=boxy-light crossorigin=anonymous defer></script></main><footer class=footer><ul class=footer-links><li><a href=/index.xml type=application/rss+xml target=_blank>RSS feed</a></li><li><a href=https://gohugo.io/ class=footer-links-kudos target=_blank rel="noopener norefferrer">Made with <img src=/images/hugo-logo.png alt="Img link to Hugo website" width=22 height=22></a></li><li><a>© 2014 - 2015</a></li></ul></footer></div><script src=https://cdn.jsdelivr.net/gh/cubarco/cubarco.github.io@gh-pages/js/main.min.4f8f8d57bd4e088a41d6e3c416a7b1b7a009a40cdf08a064e67009327d2f750ad369fc07c6e43cfac03a8353cb05429a56004a0aed7a3243501ef6ac3cd5b1a0.js async></script><script>window.ga_tid="UA-54867602-1",window.ga_api="https://cubl.in/ga-proxy/"</script><script src=https://cdn.jsdelivr.net/npm/cfga@1.0.3 async></script><script defer data-website-id=e9fdcc32-0bfa-4de5-beb0-3bbf1e4638ab src=https://umami.pwn.ooo/umami.js></script><script defer src=https://cdn.jsdelivr.net/npm/instant.page@5.1.0/instantpage.min.js></script></body></html>